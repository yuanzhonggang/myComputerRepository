

## 大数据核心框架

## 尚硅谷Shell视频教程(20201018-20201021)

### 第1章 Shell概述

![alt images](./images/微信截图_20201018143042.png) 

### 第2章 Shell解释器

### 第3章 Shell脚本入门

### 第4章 Shell中的变量

#### 4.1 系统中变量

![alt images](./images/微信截图_20201018150539.png) 

![alt images](./images/微信截图_20201018150925.png) 

![alt images](./images/微信截图_20201018151045.png) 

#### 4.2 特殊变量

#### 4.3 特殊变量:$n

![alt images](./images/微信截图_20201019215645.png) 

![alt images](./images/微信截图_20201019215907.png) 

#### 4.4 特殊变量：$  * 、$  @

![alt images](./images/微信截图_20201019220024.png) 

#### 4.5 特殊变量$ ?

![alt images](./images/微信截图_20201019220146.png) 

### 第5章 运算符

![alt images](./images/微信截图_20201019220259.png) 

### 第6章 条件判断

### 第7章 流程控制(重点)

### 第8张 read读取控制台输入

### 第9章 函数

### 第10章 Shell工具(重点)

### 第11章 企业真实面试题(重点)

## 尚硅谷大数据技术值Hadoop教程(20201022-20201113)

### 一、大数据概论

#### 1.1 大数据概念

![alt images](./images/微信截图_20201023164730.png) 

#### 1.2 大数据的特点

![alt images](./images/微信截图_20201023164754.png) ![alt images](./images/微信截图_20201023164814.png) ![alt images](./images/微信截图_20201023165002.png) ![alt images](./images/微信截图_20201023165024.png) 

#### 1.3 大数据能干啥？

![alt images](./images/微信截图_20201023165135.png) ![alt images](./images/微信截图_20201023165157.png) ![alt images](./images/微信截图_20201023165219.png) ![alt images](./images/微信截图_20201023165248.png) ![alt images](./images/微信截图_20201023165312.png) ![alt images](./images/微信截图_20201023165335.png) 

#### 1.4 大数据发展前景

#### 1.5 企业数据部的业务流程分析

![alt images](./images/微信截图_20201023165414.png) 

#### 1.6 企业数据部的一般组织架构

![alt images](./images/微信截图_20201023165445.png) 

![alt images](./images/微信截图_20201023165510.png)

### 二、从Hadoop框架讨论大数据生态

#### 2.1 Hadoop是什么

![alt images](./images/微信截图_20201024160748.png) 

#### 2.2 Hadoop发展历史

![alt images](./images/微信截图_20201024160827.png) ![alt images](./images/微信截图_20201024160915.png) ![alt images](./images/微信截图_20201024160949.png) 

#### 2.3 Hadoop三大发行版本

![alt images](./images/微信截图_20201024161017.png) ![alt images](./images/微信截图_20201024161048.png) ![alt images](./images/微信截图_20201024161121.png) 

#### 2.4 Hadoop的优势

![alt images](./images/微信截图_20201024161221.png) ![alt images](./images/微信截图_20201024161242.png) 

#### 2.5 Hadoop组成

![alt images](./images/微信截图_20201024161318.png) 

![alt images](./images/微信截图_20201024105115.png)  

##### 2.5.1 HDFS框架概述

![alt images](./images/微信截图_20201024161542.png) 

##### 2.5.2 YARN架构概述

![alt images](./images/微信截图_20201024161617.png) 

![alt images](./images/微信截图_20201024110545.png)

##### 2.5.3 MapReduce架构概述

![alt images](./images/微信截图_20201024161720.png) 

#### 2.6 大数据技术生态体系

![alt images](./images/微信截图_20201024143613.png) 

![alt images](./images/微信截图_20201024161756.png) ![alt images](./images/微信截图_20201024161903.png) ![alt images](./images/微信截图_20201024161934.png) ![alt images](./images/微信截图_20201024162002.png) 

#### 2.7 推荐系统框架图

![alt images](./images/微信截图_20201024143932.png) 

###  三、Hadoop运行环境搭建

#### 3.1 虚拟机网络模式设置为NAT

#### 3.2 克隆虚拟机

#### 3.3 修改为静态IP

#### 3.4 修改主机名

#### 3.5 关闭防火墙

#### 3.6 在opt目录下创建文件

#### 3.7 安装JDK

#### 3.8 安装Hadoop

### 四、Hadoop运行模式

#### 4.1 本地运行Hadoop案例

##### 4.1.1 官方grep案例

##### 4.1.2 官方wordcount案例

#### 4.2 伪分布式运行Hadoop案例

##### 4.2.1 启动HDFS并运行MapReduce程序

##### 4.2.2 YARN上运行MapReduce程序

##### 4.2.3 配置临时文件存储路径

##### 4.2.4 配置历史服务器

##### 4.2.5 配置日志的聚集

##### 4.2.6 配置文件说明

#### 4.3 完全分布式部署Hadoop

##### 4.3.1 虚拟机准备

##### 4.3.2 主机名设置

##### 4.3.3 scp

##### 4.3.4 SSH无密码登录

##### 4.3.5 rsync

##### 4.3.6 编写集群分发脚本xsync

##### 4.3.7 编写集群操作脚本xcall

##### 4.3.8 配置集群

##### 4.3.9 集群启动及测试

##### 4.3.10 Hadoop启动停止方式

##### 4.3.11 集群时间同步

##### 4.3.12 配置集群常见问题

## 五 Hadoop编译源码

### 5.1 前期准备工作

### 5.2 jar包安装

### 5.3 编译源码

### 5.4 常见的问题及解决方案

## HDFS文件系统

## 第一章 HDFS概述

### 1.1 HDFS产生背景

![image-20201030162717114](images/image-20201030162717114.png)

### 1.2 HDFS概念

![image-20201030162751963](images/image-20201030162751963.png)

### 1.3 HDFS优缺点

![image-20201030162805040](images/image-20201030162805040.png)![image-20201030162821980](images/image-20201030162821980.png)

### 1.4 HDFS架构

![image-20201030162933378](images/image-20201030162933378.png)

![image-20201030164215731](images/image-20201030164215731.png)

### 1.5 HDFS文件块大小

![image-20201030164539337](images/image-20201030164539337.png)

![image-20201030164718914](images/image-20201030164718914.png)

## 第二章 HDFS命令操作

![image-20201101144435321](images/image-20201101144435321.png)

![image-20201101144513905](images/image-20201101144513905.png)![image-20201101144558811](images/image-20201101144558811.png)![image-20201101144648321](images/image-20201101144648321.png)![image-20201101144624857](images/image-20201101144624857.png)

## 第三章 HDFS客户端操作

### 3.1 HDFS客户端环境准备

#### 3.1.1 jar包准备

#### 3.1.2 Eclipse准备

### 3.2 通过API操作HDFS

#### 3.2.1 HDFS获取文件系统

#### 3.2.2 HDFS文件上传(测试参数优先级)![image-20201101144955253](images/image-20201101144955253.png)

#### 3.2.3 HDFS文件下载

#### 3.2.4 HDFS目录创建

#### 3.2.5 HDFS文件夹删除

#### 3.2.6 HDFS文件名更改

#### 3.2.7 HDFS文件详情查看

#### 3.2.8 HDFS文件和文件夹判断

### 3.3 通过IO流操作HDFS

#### 3.3.1 HDFS文件上传

#### 3.3.2 HDFS文件下载

#### 3.3.3 定位文件读取

## 第四章 HDFS的数据流(面试重点) 

### 4.1 HDFS写数据流程

#### 4.1.1 剖析文件写入

![image-20201102163318539](images/image-20201102163318539.png)![image-20201102163339277](images/image-20201102163339277.png)

#### 4.1.2 网络拓扑-节点距离计算

![image-20201102163453639](images/image-20201102163453639.png)

#### 4.1.3 机架感知(副本存储节点选择)

![image-20201102163534857](images/image-20201102163534857.png)

### 4.2 HDFS读数据流程

![image-20201102163702432](images/image-20201102163702432.png)![image-20201102163721481](images/image-20201102163721481.png)

## 第五章 NameNode和SeconderyNameNade(面试开发重点)

### 5.1 NN和2N工作机制

![image-20201102164701979](images/image-20201102164701979.png)![image-20201102164717828](images/image-20201102164717828.png)

![image-20201102164824229](images/image-20201102164824229.png)

![image-20201102164913312](images/image-20201102164913312.png)![image-20201102164934235](images/image-20201102164934235.png)

![image-20201102165222016](images/image-20201102165222016.png)![image-20201102165235224](images/image-20201102165235224.png)

### 5.2 Fsimage和Edits解析

![image-20201102165502391](images/image-20201102165502391.png)

![image-20201102165545011](images/image-20201102165545011.png)

![image-20201102165631174](images/image-20201102165631174.png)

### 5.3 CheckPoint时间设置

![image-20201102165717850](images/image-20201102165717850.png)

### 5.4 NameNode故障处理

![image-20201102165744787](images/image-20201102165744787.png)![image-20201102165801498](images/image-20201102165801498.png)

![image-20201102165829214](images/image-20201102165829214.png)![image-20201102165846668](images/image-20201102165846668.png)

### 5.5 集群安全模式

![image-20201102165951585](images/image-20201102165951585.png)

![image-20201102170011841](images/image-20201102170011841.png)

### 5.6 NameNode多目录配置

![image-20201102170053847](images/image-20201102170053847.png)

## 第六章 DataNode(面试开发重点)

### 6.1 DataNode工作机制

![image-20201103141858639](images/image-20201103141858639.png)

![image-20201103142001405](images/image-20201103142001405.png)

### 6.2 数据完整性

![image-20201103142046966](images/image-20201103142046966.png)

![image-20201103142111295](images/image-20201103142111295.png)

### 6.3 掉线时限参数设置

![image-20201103142216960](images/image-20201103142216960.png)

### 6.4 服役新数据节点

![image-20201103142302788](images/image-20201103142302788.png)![image-20201103142319630](images/image-20201103142319630.png)

### 6.5 退役旧数据节点

#### 6.5.1 添加白名单

![image-20201103142356547](images/image-20201103142356547.png)![image-20201103142414387](images/image-20201103142414387.png)![image-20201103142429903](images/image-20201103142429903.png)

#### 6.5.2 黑名单退役

![image-20201103142447384](images/image-20201103142447384.png)![image-20201103142508894](images/image-20201103142508894.png)![image-20201103142523345](images/image-20201103142523345.png)

### 6.6 DataNode多目录配置

![image-20201103142639756](images/image-20201103142639756.png)

## 第七章 HDFS 2.X新特性

### 7.1 集群间数据拷贝

![image-20201103163534122](images/image-20201103163534122.png)

### 7.2 小文件存档

![image-20201103163556465](images/image-20201103163556465.png)![image-20201103163610365](images/image-20201103163610365.png)

### 7.3 回收站

![image-20201103163631041](images/image-20201103163631041.png)![image-20201103163657997](images/image-20201103163657997.png)![image-20201103163723346](images/image-20201103163723346.png)![image-20201103163742562](images/image-20201103163742562.png)

### 7.4 快照管理

![image-20201103163759421](images/image-20201103163759421.png)

![image-20201103163813594](images/image-20201103163813594.png)![image-20201103163841810](images/image-20201103163841810.png)

## 第八章 HDFS-HA工作机制

### 8.1 HA概述

![image-20201203091846693](images/image-20201203091846693.png)

### 8.2 HDFS-HA工作机制

![image-20201203092105453](images/image-20201203092105453.png)

#### 8.2.1 HDFS-HA工作要点

brain split 脑裂现象

![image-20201203092441270](images/image-20201203092441270.png)![image-20201203092505427](images/image-20201203092505427.png)

#### 8.2.2 HDFS-HA自动故障转移工作机制

![image-20201203093849448](images/image-20201203093849448.png)![image-20201203093914965](images/image-20201203093914965.png)![image-20201203093955912](images/image-20201203093955912.png)

### 8.3 HDFS-HA集群配置

#### 8.3.1 环境准备

![image-20201203094244635](images/image-20201203094244635.png)

#### 8.3.2 规划集群

![image-20201203094307870](images/image-20201203094307870.png)

#### 8.3.3 配置Zookeeper集群

![image-20201203094409040](images/image-20201203094409040.png)![image-20201203094430955](images/image-20201203094430955.png)![image-20201203094655013](images/image-20201203094655013.png)![image-20201203094836266](images/image-20201203094836266.png)![image-20201203094919977](images/image-20201203094919977.png)

#### 8.3.4 配置HDFS-HA集群

![image-20201203095006210](images/image-20201203095006210.png)![image-20201203095022156](images/image-20201203095022156.png)![image-20201203095054768](images/image-20201203095054768.png)![image-20201203095121638](images/image-20201203095121638.png)![image-20201203095151152](images/image-20201203095151152.png)![image-20201203095212837](images/image-20201203095212837.png)

#### 8.3.5 启动HDFS-HA集群

![image-20201203095354436](images/image-20201203095354436.png)![image-20201203095417025](images/image-20201203095417025.png)![image-20201203095439424](images/image-20201203095439424.png)

#### 8.3.6 配置HDFS-HA自动故障转移

![image-20201203095700074](images/image-20201203095700074.png)![image-20201203095740386](images/image-20201203095740386.png)![image-20201203095900858](images/image-20201203095900858.png)

### 8.4 YARN-HA配置

#### 8.4.1 YARN-HA工作机制

![image-20201203100025892](images/image-20201203100025892.png)

#### 8.4.2 配置YARN-HA集群

![image-20201203100052170](images/image-20201203100052170.png)![image-20201203100113491](images/image-20201203100113491.png)![image-20201203100137534](images/image-20201203100137534.png)![image-20201203100202111](images/image-20201203100202111.png)![image-20201203100252082](images/image-20201203100252082.png)![image-20201203100327105](images/image-20201203100327105.png)

### 8.5 HDFS Federation架构设计

![image-20201203100401037](images/image-20201203100401037.png)![image-20201203100414631](images/image-20201203100414631.png)![image-20201203100434424](images/image-20201203100434424.png)

## MapReduce

## 第一章 MapReduce概述

### 1.1 MapReduce定义

![image-20201104185537762](images/image-20201104185537762.png)

### 1.2 MapReduce优缺点

![image-20201104185605136](images/image-20201104185605136.png)![image-20201104185623053](images/image-20201104185623053.png)![image-20201104185648039](images/image-20201104185648039.png)

### 1.3 MapReduce核心思想

![image-20201104185847725](images/image-20201104185847725.png)![image-20201104185941434](images/image-20201104185941434.png)

### 1.4 MapReduce进程

![image-20201104190130110](images/image-20201104190130110.png)

1.5 官方WordCount源码

![image-20201104190210365](images/image-20201104190210365.png)

### 1.6 常用数据序列化类型

![image-20201104190241741](images/image-20201104190241741.png)

### 1.7 MapReduce编程规范

![image-20201104190301390](images/image-20201104190301390.png)![image-20201104190327406](images/image-20201104190327406.png)

### 1.8 WordCount案例实操

![image-20201104190434157](images/image-20201104190434157.png)

![image-20201104102341069](images/image-20201104102341069.png)

![image-20201104190527540](images/image-20201104190527540.png)

![image-20201104190610278](images/image-20201104190610278.png)![image-20201104190620127](images/image-20201104190620127.png)

![image-20201104190632863](images/image-20201104190632863.png)

![image-20201104190648348](images/image-20201104190648348.png)![image-20201104190702476](images/image-20201104190702476.png)

![image-20201104190740690](images/image-20201104190740690.png)![image-20201104190800842](images/image-20201104190800842.png)![image-20201104190821363](images/image-20201104190821363.png)

![image-20201104190847928](images/image-20201104190847928.png)

![image-20201104190904301](images/image-20201104190904301.png)![image-20201104190919785](images/image-20201104190919785.png)

## 第二章 Hadoop序列化

### 2.1 序列化概述

![image-20201105170124024](images/image-20201105170124024.png)

![image-20201105170146529](images/image-20201105170146529.png)

![image-20201105170210080](images/image-20201105170210080.png)

### 2.2 自定义bean对象实现序列化接口(Writable)

![image-20201105183338438](images/image-20201105183338438.png)![image-20201105183421955](images/image-20201105183421955.png)

### 2.3 序列化案例实操

![image-20201105183536576](images/image-20201105183536576.png)![image-20201105183552494](images/image-20201105183552494.png)![image-20201105183639031](images/image-20201105183639031.png)![image-20201105183614781](images/image-20201105183614781.png)

![image-20201105183824727](images/image-20201105183824727.png)![image-20201105183839563](images/image-20201105183839563.png)![image-20201105183904516](images/image-20201105183904516.png)

![image-20201105183927921](images/image-20201105183927921.png)![image-20201105183942779](images/image-20201105183942779.png)

![image-20201105183959080](images/image-20201105183959080.png)

## 第三章 MapReduce框架原理

### 3.1 InputFormat数据输入

#### 3.1.1 切片与MapTask并行度决定机制

![image-20201109164228800](images/image-20201109164228800.png)

![image-20201109164250247](images/image-20201109164250247.png)

#### 3.1.2 Job提交流程源码和切片源码详解

![image-20201109164704058](images/image-20201109164704058.png)![image-20201109164716942](images/image-20201109164716942.png)

![image-20201109164816059](images/image-20201109164816059.png)

![image-20201109164952392](images/image-20201109164952392.png)

#### 3.1.3 FileInputFormat切片机制

![image-20201109165022192](images/image-20201109165022192.png)

![image-20201109165050840](images/image-20201109165050840.png)

#### 3.1.4 CombineTextInputFormat切片机制

![image-20201109165151471](images/image-20201109165151471.png)![image-20201109165216973](images/image-20201109165216973.png)

![image-20201109165305986](images/image-20201109165305986.png)![image-20201109165328237](images/image-20201109165328237.png)

#### 3.1.5 CombineTextInputFormat案例实操

![image-20201110102853185](images/image-20201110102853185.png)![image-20201110102933840](images/image-20201110102933840.png)

#### 3.1.6 FileInputFormat实现类

![image-20201110103052811](images/image-20201110103052811.png)![image-20201110103116833](images/image-20201110103116833.png)

![image-20201110103147393](images/image-20201110103147393.png)![image-20201110103226022](images/image-20201110103226022.png)

#### 3.1.7  KeyValueTextInputFormat使用案例

![image-20201110103609834](images/image-20201110103609834.png)![image-20201110103626979](images/image-20201110103626979.png)

![image-20201110103928895](images/image-20201110103928895.png)![image-20201110103956593](images/image-20201110103956593.png)

![image-20201110104022670](images/image-20201110104022670.png)

![image-20201110104945318](images/image-20201110104945318.png)![image-20201110105025854](images/image-20201110105025854.png)

#### 3.1.8 NLineInputFormat使用案例

![image-20201110105116701](images/image-20201110105116701.png)![image-20201110105140798](images/image-20201110105140798.png)

![image-20201110105219940](images/image-20201110105219940.png)![image-20201110105251543](images/image-20201110105251543.png)![image-20201110105312052](images/image-20201110105312052.png)

![image-20201110105333890](images/image-20201110105333890.png)![image-20201110105401710](images/image-20201110105401710.png)

![image-20201110105422338](images/image-20201110105422338.png)

#### 3.1.9 自定义InputFormat

![image-20201110105617413](images/image-20201110105617413.png)

#### 3.1.10 自定义InputFormat案例实操

![image-20201110105707093](images/image-20201110105707093.png)![image-20201110105722949](images/image-20201110105722949.png)

![image-20201110105743000](images/image-20201110105743000.png)![image-20201110105817154](images/image-20201110105817154.png)![image-20201110105904481](images/image-20201110105904481.png)

![image-20201110105932862](images/image-20201110105932862.png)![image-20201110105954767](images/image-20201110105954767.png)

![image-20201110110021162](images/image-20201110110021162.png)![image-20201110110043838](images/image-20201110110043838.png)![image-20201110110116710](images/image-20201110110116710.png)

### 3.2 MapReduce工作流程

![image-20201108142845981](images/image-20201108142845981.png)

![image-20201108143152389](images/image-20201108143152389.png)

![image-20201110111234384](images/image-20201110111234384.png)![image-20201110111254889](images/image-20201110111254889.png)![image-20201110111318535](images/image-20201110111318535.png)

### 3.3 Shuffle机制

#### 3.3.1 Shuffle机制

![image-20201110185124278](images/image-20201110185124278.png)

#### 3.3.2 Partition分区

![image-20201110185958719](images/image-20201110185958719.png)![image-20201110190025103](images/image-20201110190025103.png)![image-20201110190114901](images/image-20201110190114901.png)

#### 3.3.3 Partition分区案例实操

![image-20201110190325374](images/image-20201110190325374.png)![image-20201110190351469](images/image-20201110190351469.png)

![image-20201110190409213](images/image-20201110190409213.png)![image-20201110190427877](images/image-20201110190427877.png)

![image-20201110190718762](images/image-20201110190718762.png)![image-20201110190838463](images/image-20201110190838463.png)

#### 3.3.4 WritableComparable排序

![image-20201110190926131](images/image-20201110190926131.png)![image-20201110191742615](images/image-20201110191742615.png)

![image-20201110191835683](images/image-20201110191835683.png)![image-20201110191852820](images/image-20201110191852820.png)

#### 3.3.5 WritableComparable排序案例实操(全排序)

![image-20201110192510173](images/image-20201110192510173.png)![image-20201110192538110](images/image-20201110192538110.png)![image-20201110192615504](images/image-20201110192615504.png)

![image-20201110192703904](images/image-20201110192703904.png)![image-20201110192733400](images/image-20201110192733400.png)![image-20201110192752391](images/image-20201110192752391.png)

![image-20201110192827748](images/image-20201110192827748.png)![image-20201110192843766](images/image-20201110192843766.png)![image-20201110192907760](images/image-20201110192907760.png)

![image-20201110193001685](images/image-20201110193001685.png)![image-20201110193020926](images/image-20201110193020926.png)

#### 3.3.6 WritableComparable排序实例实操(区内排序)

![image-20201110193748713](images/image-20201110193748713.png)

![image-20201110193804267](images/image-20201110193804267.png)![image-20201110193816324](images/image-20201110193816324.png)![image-20201110193834761](images/image-20201110193834761.png)

#### 3.3.7 Combiner合并

![image-20201110193954988](images/image-20201110193954988.png)![image-20201110194207958](images/image-20201110194207958.png)

#### 3.3.8 Combiner合并案例实操

![image-20201110194334346](images/image-20201110194334346.png)![image-20201110194356362](images/image-20201110194356362.png)

![image-20201110194415304](images/image-20201110194415304.png)![image-20201110194439310](images/image-20201110194439310.png)

#### 3.3.9 GroupingComparator分组(辅助排序)

![image-20201110194559218](images/image-20201110194559218.png)

#### 3.3.10 GroupingComparator分组案例实操

![image-20201110194639414](images/image-20201110194639414.png)![image-20201110194655320](images/image-20201110194655320.png)![image-20201110194717414](images/image-20201110194717414.png)

![image-20201110194748749](images/image-20201110194748749.png)![image-20201110194832833](images/image-20201110194832833.png)![image-20201110194900451](images/image-20201110194900451.png)![image-20201110194937624](images/image-20201110194937624.png)![image-20201110195036730](images/image-20201110195036730.png)![image-20201110195112775](images/image-20201110195112775.png)![image-20201110195135602](images/image-20201110195135602.png)![image-20201110195157568](images/image-20201110195157568.png)

### 3.4 MapTask工作机制

![image-20201109150629186](images/image-20201109150629186.png)

![image-20201111140344368](images/image-20201111140344368.png)![image-20201111140501676](images/image-20201111140501676.png)

### 3.5 ReduceTask工作机制

![image-20201109151003830](images/image-20201109151003830.png)

![image-20201111140722787](images/image-20201111140722787.png)![image-20201111140842139](images/image-20201111140842139.png)

### 3.6 OutputFormat数据输出

#### 3.6.1 OutputFormat接口实现类

![image-20201111144437084](images/image-20201111144437084.png)

#### 3.6.2 自定义OutputFormat

![image-20201111144535554](images/image-20201111144535554.png)

#### 3.6.3 自定义OutputFormat案例实操

![image-20201111144658398](images/image-20201111144658398.png)![image-20201111144714220](images/image-20201111144714220.png)

![image-20201111144758799](images/image-20201111144758799.png)![image-20201111144810942](images/image-20201111144810942.png)![image-20201111144827010](images/image-20201111144827010.png)![image-20201111144851962](images/image-20201111144851962.png)![image-20201111144906155](images/image-20201111144906155.png)![image-20201111144932784](images/image-20201111144932784.png)![image-20201111144950733](images/image-20201111144950733.png)![image-20201111145009499](images/image-20201111145009499.png)

### 3.7 Join多种应用

#### 3.7.1 Reduce Join

![image-20201111145351620](images/image-20201111145351620.png)

#### 3.7.2 Reduce Join 案例实操

![image-20201111145411991](images/image-20201111145411991.png)![image-20201111145429772](images/image-20201111145429772.png)

![image-20201111145457455](images/image-20201111145457455.png)![image-20201111145516989](images/image-20201111145516989.png)![image-20201111145536747](images/image-20201111145536747.png)![image-20201111145608529](images/image-20201111145608529.png)![image-20201111145628167](images/image-20201111145628167.png)![image-20201111145649443](images/image-20201111145649443.png)![image-20201111145705709](images/image-20201111145705709.png)![image-20201111145737957](images/image-20201111145737957.png)![image-20201111145800220](images/image-20201111145800220.png)![image-20201111145823421](images/image-20201111145823421.png)![image-20201111145841082](images/image-20201111145841082.png)

#### 3.7.3 MapJoin

![image-20201111145930373](images/image-20201111145930373.png)![image-20201111145945222](images/image-20201111145945222.png)

#### 3.7.4 MapJoin 案例实操

![image-20201111150025829](images/image-20201111150025829.png)![image-20201111150047863](images/image-20201111150047863.png)![image-20201111150110405](images/image-20201111150110405.png)![image-20201111150129620](images/image-20201111150129620.png)![image-20201111150159483](images/image-20201111150159483.png)![image-20201111150218273](images/image-20201111150218273.png)

### 3.8 计数器应用

![image-20201111150300282](images/image-20201111150300282.png)

### 3.9 数据清洗(ETL)

![image-20201111150640859](images/image-20201111150640859.png)

#### 3.9.1 数据清洗案例实操-简单解析版

![image-20201111150656983](images/image-20201111150656983.png)

![image-20201111150718568](images/image-20201111150718568.png)![image-20201111150743660](images/image-20201111150743660.png)![image-20201111151353368](images/image-20201111151353368.png)![image-20201111151411480](images/image-20201111151411480.png)

#### 3.9.2 数据清洗案例实操-复杂解析版

![image-20201111151435697](images/image-20201111151435697.png)![image-20201111151448179](images/image-20201111151448179.png)![image-20201111151508261](images/image-20201111151508261.png)![image-20201111151535145](images/image-20201111151535145.png)![image-20201111151552268](images/image-20201111151552268.png)![image-20201111151613415](images/image-20201111151613415.png)![image-20201111151635594](images/image-20201111151635594.png)![image-20201111151707308](images/image-20201111151707308.png)![image-20201111151727173](images/image-20201111151727173.png)

### 3.10 MapReduce开发总结

![image-20201111151829843](images/image-20201111151829843.png)

![image-20201111151847368](images/image-20201111151847368.png)![image-20201111151902089](images/image-20201111151902089.png)![image-20201111151921099](images/image-20201111151921099.png)![image-20201111151938821](images/image-20201111151938821.png)![image-20201111151954550](images/image-20201111151954550.png)

## 第四章 Hadoop数据压缩

### 4.1 概述

![image-20201112101630460](images/image-20201112101630460.png)![image-20201112101718488](images/image-20201112101718488.png)

### 4.2 MR支持的压缩编码

![image-20201112101807273](images/image-20201112101807273.png)![image-20201112101830751](images/image-20201112101830751.png)

### 4.3 压缩方式选择

#### 4.3.1 Gzip压缩

![image-20201112101854291](images/image-20201112101854291.png)

#### 4.3.2 Bzip2压缩

![image-20201112101917696](images/image-20201112101917696.png)

#### 4.3.3 Lzo压缩

![image-20201112101931312](images/image-20201112101931312.png)

#### 4.3.4 Snappy压缩

![image-20201112101946480](images/image-20201112101946480.png)

### 4.4 压缩位置选择

![image-20201112102021069](images/image-20201112102021069.png)![image-20201112102035483](images/image-20201112102035483.png)

### 4.5 压缩参数配置

![image-20201112102422153](images/image-20201112102422153.png)![image-20201112102446592](images/image-20201112102446592.png)

### 4.6 压缩实操案例

#### 4.6.1 数据流的压缩和解压缩

![image-20201112102549671](images/image-20201112102549671.png)![image-20201112102621310](images/image-20201112102621310.png)![image-20201112102652015](images/image-20201112102652015.png)![image-20201112102713668](images/image-20201112102713668.png)

#### 4.6.2 Map输出端采用压缩

![image-20201112102831424](images/image-20201112102831424.png)![image-20201112102852183](images/image-20201112102852183.png)![image-20201112102912989](images/image-20201112102912989.png)![image-20201112102935733](images/image-20201112102935733.png)

#### 4.6.3 Reduce输出端采用压缩

![image-20201112102958485](images/image-20201112102958485.png)![image-20201112103015654](images/image-20201112103015654.png)![image-20201112103046734](images/image-20201112103046734.png)

## 第五章 Yarn资源调度器

![image-20201112152005471](images/image-20201112152005471.png)

### 5.1 Yarn基本架构

![image-20201112152018307](images/image-20201112152018307.png)![image-20201112142229417](images/image-20201112142229417.png)

### 5.2 Yarn工作机制

![image-20201112142933715](images/image-20201112142933715.png)

![image-20201112152125976](images/image-20201112152125976.png)![image-20201112152144842](images/image-20201112152144842.png)

### 5.3 作业提交全过程

![image-20201112152418586](images/image-20201112152418586.png)

![image-20201112152449641](images/image-20201112152449641.png)![image-20201112152515502](images/image-20201112152515502.png)![image-20201112152535516](images/image-20201112152535516.png)

![image-20201112153101252](images/image-20201112153101252.png)

### 5.4 资源调度器

![image-20201112153130961](images/image-20201112153130961.png)

![image-20201112153149656](images/image-20201112153149656.png)![image-20201112153203164](images/image-20201112153203164.png)![image-20201112153229300](images/image-20201112153229300.png)

### 5.5 任务的推测执行

![image-20201112163432160](images/image-20201112163432160.png)![image-20201112163523465](images/image-20201112163523465.png)

## 第六章 Hadoop企业优化

### 6.1 MapReduce跑得慢的原因

![image-20201112164243593](images/image-20201112164243593.png)

### 6.2 MapReduce优化方法

![image-20201112164317817](images/image-20201112164317817.png)

#### 6.2.1 数据输入

![image-20201112164336477](images/image-20201112164336477.png)

#### 6.2.2 Map阶段

![image-20201112164406873](images/image-20201112164406873.png)

#### 6.2.3 Reduce阶段

![image-20201112164512396](images/image-20201112164512396.png)![image-20201112164537123](images/image-20201112164537123.png)

#### 6.2.4 I/O传输

![image-20201112164558287](images/image-20201112164558287.png)

#### 6.2.5 数据倾斜问题

![image-20201112165031354](images/image-20201112165031354.png)![image-20201112165044714](images/image-20201112165044714.png)

#### 6.2.6 常用的调优参数

![image-20201112165142612](images/image-20201112165142612.png)![image-20201112165210153](images/image-20201112165210153.png)![image-20201112165232528](images/image-20201112165232528.png)![image-20201112165319559](images/image-20201112165319559.png)

### 6.3 HDFS小文件优化方法

#### 6.3.1 HDFS小文件弊端

![image-20201112165341808](images/image-20201112165341808.png)

#### 6.3.2 HDFS小文件解决方案

![image-20201112165358406](images/image-20201112165358406.png)![image-20201112165417468](images/image-20201112165417468.png)

## 第七章 MapReduce扩展案例

### 7.1 倒排索引案例(多job串联)

![image-20201113153326477](images/image-20201113153326477.png)

![image-20201113153341661](images/image-20201113153341661.png)

![image-20201113153416338](images/image-20201113153416338.png)![image-20201113153435930](images/image-20201113153435930.png)![image-20201113153457125](images/image-20201113153457125.png)![image-20201113153522401](images/image-20201113153522401.png)![image-20201113153542523](images/image-20201113153542523.png)![image-20201113153602463](images/image-20201113153602463.png)![image-20201113153621648](images/image-20201113153621648.png)![image-20201113153637173](images/image-20201113153637173.png)![image-20201113153658643](images/image-20201113153658643.png)

### 7.2 TopN案例

![image-20201113154017742](images/image-20201113154017742.png)![image-20201113154045844](images/image-20201113154045844.png)

![image-20201113154122298](images/image-20201113154122298.png)![image-20201113154134260](images/image-20201113154134260.png)![image-20201113154148263](images/image-20201113154148263.png)![image-20201113154216407](images/image-20201113154216407.png)![image-20201113154240614](images/image-20201113154240614.png)![image-20201113154403321](images/image-20201113154403321.png)![image-20201113154419461](images/image-20201113154419461.png)![image-20201113154439723](images/image-20201113154439723.png)![image-20201113154457805](images/image-20201113154457805.png)

### 7.3 找博客共同好友案例

![image-20201113154531840](images/image-20201113154531840.png)![image-20201113154608594](images/image-20201113154608594.png)![image-20201113154631412](images/image-20201113154631412.png)![image-20201113154730388](images/image-20201113154730388.png)

![image-20201113154918887](images/image-20201113154918887.png)![image-20201113154934633](images/image-20201113154934633.png)![image-20201113155017403](images/image-20201113155017403.png)![image-20201113155045433](images/image-20201113155045433.png)![image-20201113155113437](images/image-20201113155113437.png)![image-20201113155138313](images/image-20201113155138313.png)![image-20201113155330752](images/image-20201113155330752.png)![image-20201113155358049](images/image-20201113155358049.png)![image-20201113155420040](images/image-20201113155420040.png)

## 第八章 常见错误及解决方案

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------



# 尚硅谷大数据技术之Zookeeper(20201120-20201120)

## 第一章 Zookeeper入门

### 1.1 概述

![image-20201120100555968](images/image-20201120100555968.png)

### 1.2 特点

![image-20201120100613870](images/image-20201120100613870.png)

### 1.3 数据结构

![image-20201120100647655](images/image-20201120100647655.png)

### 1.4 应用场景

![image-20201120100715330](images/image-20201120100715330.png)![image-20201120100743742](images/image-20201120100743742.png)![image-20201120100759461](images/image-20201120100759461.png)![image-20201120100851318](images/image-20201120100851318.png)![image-20201120100910592](images/image-20201120100910592.png)

### 1.5 下载地址

## 第二章 Zookeeper安装

### 2.1 本地模式安装部署

![image-20201120100958514](images/image-20201120100958514.png)![image-20201120101019535](images/image-20201120101019535.png)

### 2.2 配置参数解读

![image-20201120101052940](images/image-20201120101052940.png)

## 第三章 Zookeeper内部原理

### 3.1 选举机制(面试重点)

![image-20201120161553880](images/image-20201120161553880.png)![image-20201120161632512](images/image-20201120161632512.png)![image-20201120161654986](images/image-20201120161654986.png)

### 3.2 节点类型

![image-20201120161854589](images/image-20201120161854589.png)

### 3.3 Stat结构体

![image-20201120161914609](images/image-20201120161914609.png)![image-20201120161934427](images/image-20201120161934427.png)

### 3.4 监听器原理(面试重点)

![image-20201120162029112](images/image-20201120162029112.png)

### 3.5 写数据流程

![image-20201120162044980](images/image-20201120162044980.png)

## 第四章 Zookeeper实战(开发重点)

### 4.1 分布式安装部署

![image-20201120162218985](images/image-20201120162218985.png)![image-20201120162239352](images/image-20201120162239352.png)![image-20201120162315543](images/image-20201120162315543.png)![image-20201120162335825](images/image-20201120162335825.png)

### 4.2 客户端命令操作

![image-20201120162418815](images/image-20201120162418815.png)

### 4.3 API应用

#### 4.3.1 Eclipse环境搭建

#### 4.3.2 创建Zookeeper客户端

#### 4.3.3 创建子节点

#### 4.3.4 获取子节点并监听节点变化

#### 4.3.5 判断Znode是否存在

### 4.4 监听服务器节点动态上下线案例

![image-20201120162534907](images/image-20201120162534907.png)![image-20201120162558758](images/image-20201120162558758.png)

## 第五章 企业面试真题(面试重点)

![image-20201120162646368](images/image-20201120162646368.png)

### 5.1 请简述Zookeeper的选举机制

### 5.2 Zookeeper的监听原理是什么

### 5.3 Zookeeper的部署方式有哪几种

### 5.4 Zookeeper的常用命令



=============================================================================

# 尚硅谷大数据之hive(20201122-20201201)

## 第一章 Hive入门

### 1.1 什么是Hive

![image-20201124222514714](images/image-20201124222514714.png)

### 1.2 Hive的优缺点

#### 1.2.1 优点

![image-20201124222645676](images/image-20201124222645676.png)![image-20201124222757585](images/image-20201124222757585.png)

#### 1.2.2 缺点

![image-20201124222927135](images/image-20201124222927135.png)

### 1.3 Hive架构原理

![image-20201124222949461](images/image-20201124222949461.png)

![image-20201124223044955](images/image-20201124223044955.png)![image-20201124223129128](images/image-20201124223129128.png)

### 1.4 Hive和数据库比较

![image-20201124223339668](images/image-20201124223339668.png)

#### 1.4.1 查询语言

![image-20201124223608393](images/image-20201124223608393.png)![image-20201124223635385](images/image-20201124223635385.png)

#### 1.4.2 数据存储位置

![image-20201124223658322](images/image-20201124223658322.png)

#### 1.4.3 数据更新

![image-20201124223711799](images/image-20201124223711799.png)

#### 1.4.4 索引

![image-20201124223756367](images/image-20201124223756367.png)

#### 1.4.5 执行

![image-20201124223813423](images/image-20201124223813423.png)

#### 1.4.6 执行延迟

![image-20201124223851102](images/image-20201124223851102.png)

#### 1.4.7 可扩展性

![image-20201124223901289](images/image-20201124223901289.png)![image-20201124223912115](images/image-20201124223912115.png)

#### 1.4.8 数据规模

![image-20201124223933768](images/image-20201124223933768.png)

## 第二章 Hive安装

### 2.1 Hive安装地址

![image-20201124224219664](images/image-20201124224219664.png)

### 2.2 Hive安装部署

![image-20201124224237812](images/image-20201124224237812.png)![image-20201124224312758](images/image-20201124224312758.png)

### 2.3 将本地文件导入Hive案例

![image-20201124224626240](images/image-20201124224626240.png)![image-20201124224651020](images/image-20201124224651020.png)![image-20201124224713650](images/image-20201124224713650.png)![image-20201124224747094](images/image-20201124224747094.png)

### 2.4 MySql安装

#### 2.4.1 安装包准备

#### 2.4.2 安装MySql服务器

#### 2.4.3 安装MySql客户端

### 2.5 Hive元数据配置到MySql

#### 2.5.1 驱动拷贝

![image-20201125101434272](images/image-20201125101434272.png)

#### 2.5.2 配置Metastore到MySql

![image-20201125101509498](images/image-20201125101509498.png)

#### 2.5.3 多窗口启动Hive测试

![image-20201125101538116](images/image-20201125101538116.png)![image-20201125101551630](images/image-20201125101551630.png)

### 2.6 HiveJDBC访问

![image-20201125101817362](images/image-20201125101817362.png)

#### 2.6.1 启动hiveserver2服务

#### 2.6.2 启动beeline

#### 2.6.3 连接hiveserver2

### 2.7 Hive常用交互命令

![image-20201125102025978](images/image-20201125102025978.png)![image-20201125102056429](images/image-20201125102056429.png)

### 2.8 Hive其他命令操作

![image-20201125102407478](images/image-20201125102407478.png)

### 2.9 Hive常见属性配置

#### 2.9.1 Hive数据仓库位置配置

![image-20201125102627813](images/image-20201125102627813.png)![image-20201125102648029](images/image-20201125102648029.png)

#### 2.9.2 查询后信息显示配置

![image-20201125102743129](images/image-20201125102743129.png)

#### 2.9.3 Hive运行日志信息配置

![image-20201125102836319](images/image-20201125102836319.png)

#### 2.9.4 参数配置方式

![image-20201125102902124](images/image-20201125102902124.png)

## 第三章 Hive数据类型

### 3.1 基本数据类型

![image-20201125103218275](images/image-20201125103218275.png)![image-20201125103259204](images/image-20201125103259204.png)

### 3.2 集合数据类型

![image-20201125103356283](images/image-20201125103356283.png)![image-20201125103429274](images/image-20201125103429274.png)

### 3.3 类型转化

![image-20201125103638604](images/image-20201125103638604.png)![image-20201125103700831](images/image-20201125103700831.png)

## 第四章 DDL数据定义

### 4.1 创建数据库

![image-20201125104304761](images/image-20201125104304761.png)

### 4.2 查询数据库

#### 4.2.1 显示数据库

![image-20201125104502296](images/image-20201125104502296.png)

#### 4.2.2 查看数据库详情

![image-20201125104517891](images/image-20201125104517891.png)

#### 4.2.3 切换当前数据库

![image-20201125104552155](images/image-20201125104552155.png)

### 4.3 修改数据库

![image-20201125104811190](images/image-20201125104811190.png)

### 4.4 删除数据库

![image-20201125104911177](images/image-20201125104911177.png)

### 4.5 创建表

![image-20201125105011646](images/image-20201125105011646.png)![image-20201125105148363](images/image-20201125105148363.png)![image-20201125105208757](images/image-20201125105208757.png)

#### 4.5.1 管理表

![image-20201125105545246](images/image-20201125105545246.png)![image-20201125105604294](images/image-20201125105604294.png)

#### 4.5.2 外部表

![image-20201125105712765](images/image-20201125105712765.png)![image-20201125105811163](images/image-20201125105811163.png)

#### 4.5.3 管理表与外部表的互相转换

![image-20201125105840231](images/image-20201125105840231.png)

### 4.6 分区表

![image-20201125111004626](images/image-20201125111004626.png)

#### 4.6.1 分区表基本操作

![image-20201125111131869](images/image-20201125111131869.png)![image-20201125111200471](images/image-20201125111200471.png)![image-20201125111233539](images/image-20201125111233539.png)

#### 4.6.2 分区表注意事项

![image-20201125111343173](images/image-20201125111343173.png)![image-20201125111503219](images/image-20201125111503219.png)

### 4.7 修改表

#### 4.7.1 重命名表

![image-20201125111717755](images/image-20201125111717755.png)

#### 4.7.2 增加、删除和修改表分区

![image-20201125111733429](images/image-20201125111733429.png)

#### 4.7.3 增加/修改/替换列信息

![image-20201125111751974](images/image-20201125111751974.png)![image-20201125111832768](images/image-20201125111832768.png)

### 4.8 删除表

![image-20201125111854632](images/image-20201125111854632.png)

## 第五章 DML数据操作

### 5.1 数据导入

#### 5.1.1 向表中装载数据(Load)

![image-20201125141924701](images/image-20201125141924701.png)![image-20201125141938831](images/image-20201125141938831.png)

#### 5.1.2 通过查询语句向表中插入数据(Insert)

![image-20201125142031539](images/image-20201125142031539.png)

#### 5.1.3 查询语句中创建表并加载数据(As Select)

![image-20201125142143635](images/image-20201125142143635.png)

#### 5.1.4 创建表时通过Location指定加载数据路径

![image-20201125142204657](images/image-20201125142204657.png)

#### 5.1.5 Import数据到指定Hive表中

![image-20201125142315142](images/image-20201125142315142.png)

### 5.2 数据导出

#### 5.2.1 Insert导出

![image-20201125142629683](images/image-20201125142629683.png)

#### 5.2.2 Hadoop命令导出到本地

![image-20201125142653579](images/image-20201125142653579.png)

#### 5.2.3 Hive Shell命令导出

![image-20201125142719677](images/image-20201125142719677.png)

#### 5.2.4 Export导出到HDFS上

![image-20201125142740737](images/image-20201125142740737.png)

#### 5.2.5 Sqoop导出

### 5.3 清除表中数据(Truncate)

![image-20201125142820393](images/image-20201125142820393.png)

## 第六章 查询

### 6.1 基本查询(Select... From)

#### 6.1.1 全表和特定列查询

![image-20201125143706622](images/image-20201125143706622.png)

#### 6.1.2 列别名

![image-20201125143737986](images/image-20201125143737986.png)

#### 6.1.3 算术运算符

![image-20201125143808574](images/image-20201125143808574.png)![image-20201125143823285](images/image-20201125143823285.png)

#### 6.1.4 常用函数

![image-20201125143910525](images/image-20201125143910525.png)

#### 6.1.5 Limit语句

![image-20201125143928151](images/image-20201125143928151.png)

### 6.2 Where语句

![image-20201125143944171](images/image-20201125143944171.png)

### 6.3 分组

#### 6.3.1 Group By语句

![image-20201125144823370](images/image-20201125144823370.png)

#### 6.3.2 Having语句

![image-20201125144838074](images/image-20201125144838074.png)

### 6.4 Join语句

#### 6.4.1 等值Join

![image-20201125145152997](images/image-20201125145152997.png)

#### 6.4.2 表的别名

![image-20201125145218204](images/image-20201125145218204.png)

#### 6.4.3 内连接

![image-20201125145251519](images/image-20201125145251519.png)

#### 6.4.4 左外连接

![image-20201125145305159](images/image-20201125145305159.png)

#### 6.4.5 右外连接

![image-20201125145317097](images/image-20201125145317097.png)

#### 6.4.6 满外连接

![image-20201125145330613](images/image-20201125145330613.png)

#### 6.4.7 多表链接

![image-20201125145346591](images/image-20201125145346591.png)![image-20201125145414820](images/image-20201125145414820.png)

#### 6.4.8 笛卡尔积

![image-20201125145437552](images/image-20201125145437552.png)

#### 6.4.9 连接谓词中不支持or

![image-20201125145450749](images/image-20201125145450749.png)

### 6.5 排序

#### 6.5.1 全局排序(Order By)

![image-20201125145755184](images/image-20201125145755184.png)![image-20201125145821731](images/image-20201125145821731.png)

#### 6.5.2 按照别名排序

![image-20201125145836865](images/image-20201125145836865.png)

#### 6.5.3 多个列排序

![image-20201125145859957](images/image-20201125145859957.png)

#### 6.5.4 每个MapReduce内部排序(Sort By)

![image-20201125150001411](images/image-20201125150001411.png)

#### 6.5.5 分区排序

![image-20201125150036929](images/image-20201125150036929.png)![image-20201125150106281](images/image-20201125150106281.png)

#### 6.5.6 Cluster By

![image-20201125150134683](images/image-20201125150134683.png)

### 6.6 分桶及抽样查询

#### 6.6.1 分桶表数据存储

![image-20201125152033132](images/image-20201125152033132.png)![image-20201125152116035](images/image-20201125152116035.png)![image-20201125152136350](images/image-20201125152136350.png)![image-20201125152156379](images/image-20201125152156379.png)

#### 6.6.2 分桶抽样查询

![image-20201125152247654](images/image-20201125152247654.png)

### 6.7 其他常用查询函数

#### 6.7.1 空字段赋值

![image-20201201195725435](images/image-20201201195725435.png)

#### 6.7.2 CASE WHEN

![image-20201201195752745](images/image-20201201195752745.png)![image-20201201195808494](images/image-20201201195808494.png)

#### 6.7.3 行转列

![image-20201201195833332](images/image-20201201195833332.png)![image-20201201195900637](images/image-20201201195900637.png)

#### 6.7.4 列转行

![image-20201201195915929](images/image-20201201195915929.png)![image-20201201195928917](images/image-20201201195928917.png)

#### 6.7.5 窗口函数

![image-20201201200006553](images/image-20201201200006553.png)![image-20201201200022745](images/image-20201201200022745.png)![image-20201201200043380](images/image-20201201200043380.png)![image-20201201200058659](images/image-20201201200058659.png)

#### 6.7.6 Rank

![image-20201201200149336](images/image-20201201200149336.png)

## 第七章 函数

### 7.1 系统内置函数

![image-20201201200258892](images/image-20201201200258892.png)

### 7.2 自定义函数

![image-20201201200317708](images/image-20201201200317708.png)![image-20201201200334392](images/image-20201201200334392.png)

### 7.3 自定义UDF函数

![image-20201201200444401](images/image-20201201200444401.png)![image-20201201200457652](images/image-20201201200457652.png)

## 第八章 压缩和存储

### 8.1 Hadoop源码编译支持Snappy压缩

#### 8.1.1 资源准备

![image-20201201200836958](images/image-20201201200836958.png)

#### 8.1.2 jar包安装

![image-20201201200854764](images/image-20201201200854764.png)![image-20201201200908282](images/image-20201201200908282.png)

#### 8.1.3 编译源码

![image-20201201200921948](images/image-20201201200921948.png)

### 8.2 Hadoop压缩配置

#### 8.2.1 MR支持的压缩编码

![image-20201201200943157](images/image-20201201200943157.png)![image-20201201201000461](images/image-20201201201000461.png)

#### 8.2.2 压缩参数配置

![image-20201201201113512](images/image-20201201201113512.png)![image-20201201201124022](images/image-20201201201124022.png)

### 8.3 开启Map输出阶段压缩

![image-20201201201135398](images/image-20201201201135398.png)

### 8.4 开启Reduce输出阶段压缩

![image-20201201201207485](images/image-20201201201207485.png)![image-20201201201218683](images/image-20201201201218683.png)

### 8.5 文件存储格式

![image-20201201201447764](images/image-20201201201447764.png)

#### 8.5.1 列式存储和行式存储

![image-20201201201427986](images/image-20201201201427986.png)

#### 8.5.2 TextFile格式

![image-20201201201504550](images/image-20201201201504550.png)

#### 8.5.3 Orc格式

![image-20201201201531260](images/image-20201201201531260.png)![image-20201201201544693](images/image-20201201201544693.png)![image-20201201201639533](images/image-20201201201639533.png)

#### 8.5.4 Parquet格式

![image-20201201201725402](images/image-20201201201725402.png)![image-20201201201740335](images/image-20201201201740335.png)

#### 8.5.5 主流文件存储格式对比实验

![image-20201201202139310](images/image-20201201202139310.png)![image-20201201202200216](images/image-20201201202200216.png)![image-20201201202213752](images/image-20201201202213752.png)![image-20201201202230541](images/image-20201201202230541.png)

### 8.6 存储和压缩结合

#### 8.6.1 修改Hadoop集群具有Snappy压缩方式

![image-20201201202343473](images/image-20201201202343473.png)![image-20201201202358074](images/image-20201201202358074.png)

#### 8.6.2 测试存储和压缩

![image-20201201202421561](images/image-20201201202421561.png)![image-20201201202437088](images/image-20201201202437088.png)![image-20201201202448683](images/image-20201201202448683.png)

## 第九章 企业级调优

### 9.1 Fetch抓取

![image-20201201202815661](images/image-20201201202815661.png)![image-20201201202827941](images/image-20201201202827941.png)

### 9.2 本地模式

![image-20201201202841264](images/image-20201201202841264.png)

### 9.3 表的优化

#### 9.3.1 小表、大表Join

![image-20201201203150716](images/image-20201201203150716.png)

#### 9.3.2 大表Join大表

![image-20201201203204415](images/image-20201201203204415.png)![image-20201201203224558](images/image-20201201203224558.png)![image-20201201203242687](images/image-20201201203242687.png)![image-20201201203302780](images/image-20201201203302780.png)![image-20201201203322850](images/image-20201201203322850.png)

#### 9.3.3 MapJoin

![image-20201201203344257](images/image-20201201203344257.png)

#### 9.3.4 Group By

![image-20201201203422067](images/image-20201201203422067.png)

#### 9.3.5 Count(Distinct)去重统计

![image-20201201203520629](images/image-20201201203520629.png)![image-20201201203533730](images/image-20201201203533730.png)

#### 9.3.6 笛卡尔积

![image-20201201203548340](images/image-20201201203548340.png)

#### 9.3.7 行列过滤

![image-20201201203602022](images/image-20201201203602022.png)

#### 9.3.8 动态分区调整

![image-20201201203624294](images/image-20201201203624294.png)![image-20201201203638871](images/image-20201201203638871.png)![image-20201201203700770](images/image-20201201203700770.png)

#### 9.3.9 分桶

![image-20201201203732558](images/image-20201201203732558.png)

#### 9.3.10 分区

![image-20201201203743878](images/image-20201201203743878.png)

### 9.4 MR优化(数据倾斜)

#### 9.4.1 合理设置Map数

![image-20201201203906660](images/image-20201201203906660.png)

#### 9.4.2 小文件进行合并

![image-20201201203920127](images/image-20201201203920127.png)

#### 9.4.3 复杂文件增加Map数

![image-20201201203932725](images/image-20201201203932725.png)![image-20201201203944087](images/image-20201201203944087.png)

#### 9.4.4 合理设置Reduce数

![image-20201201204006042](images/image-20201201204006042.png)

### 9.5 并行执行

![image-20201201204031312](images/image-20201201204031312.png)

### 9.6 严格模式

![image-20201201204059198](images/image-20201201204059198.png)![image-20201201204110952](images/image-20201201204110952.png)

### 9.7 JVM重用

![image-20201201204134387](images/image-20201201204134387.png)![image-20201201204208375](images/image-20201201204208375.png)

### 9.8 推测执行

![image-20201201204221557](images/image-20201201204221557.png)

### 9.9 压缩

![image-20201201204303769](images/image-20201201204303769.png)

### 9.10 执行计划(Explain)

![image-20201201204316082](images/image-20201201204316082.png)

## 第十章 Hive实战之谷粒影音

## 第十一章 常见错误及解决方案

![image-20201201204447900](images/image-20201201204447900.png)![image-20201201204459531](images/image-20201201204459531.png)

==========================================================================================

# 尚硅谷大数据技术之Flume(20201210)

## 第一章 Flume概述

### 1.1 Flume定义

![image-20201210211855264](images/image-20201210211855264.png)

### 1.2 Flume基础架构

![image-20201210211913649](images/image-20201210211913649.png)

#### 1.2.1 Agent

![image-20201210211937781](images/image-20201210211937781.png)

#### 1.2.2 Source

![image-20201210212002515](images/image-20201210212002515.png)

#### 1.2.3 Sink

![image-20201210212014318](images/image-20201210212014318.png)

#### 1.2.4 Channel

![image-20201210212045982](images/image-20201210212045982.png)

#### 1.2.5 Event

![image-20201210212126935](images/image-20201210212126935.png)![image-20201210212139286](images/image-20201210212139286.png)

## 第二章 Flume快速入门

详见尚硅谷大数据技术之Flume笔记.pdf文件

### 2.1 Flume安装部署

#### 2.1.1 安装地址

#### 2.1.2 安装部署

### 2.2 Flume入门案例

#### 2.2.1 监控端口数据官方案例

#### 2.2.2 实时监控单个追加文件

#### 2.2.3 实时监控目录下多个新文件

#### 2.2.4 实时监控目录下的多个追加文件

## 第三章 Flume进阶

### 3.1 Flume事务

![image-20201210215849184](images/image-20201210215849184.png)

### 3.2 Flume Agent内部原理

![image-20201210220044927](images/image-20201210220044927.png)![image-20201210220100880](images/image-20201210220100880.png)

### 3.3 Flume拓扑结构

#### 3.3.1 简单串联

![image-20201210220214824](images/image-20201210220214824.png)

#### 3.2.2 复制和多路复用

![image-20201210220230452](images/image-20201210220230452.png)![image-20201210220246257](images/image-20201210220246257.png)

#### 3.3.3 负载均衡和故障转移

![image-20201210220321066](images/image-20201210220321066.png)

#### 3.3.4 聚合

![image-20201210220345840](images/image-20201210220345840.png)![image-20201210220357356](images/image-20201210220357356.png)

### 3.4 Flume企业开发案例

详见尚硅谷大数据技术之Flume笔记.pdf文件

#### 3.4.1 复制和多路复用

#### 3.4.2 负载均衡和故障转移

#### 3.4.3 聚合

### 3.5 自定义Interceptor

### 3.6 自定义Source

![image-20201210220620251](images/image-20201210220620251.png)

### 3.7 自定义Sink

![image-20201210220645874](images/image-20201210220645874.png)![image-20201210220658239](images/image-20201210220658239.png)

### 3.8 Flume数据流监控

#### 3.8.1 Ganglia的安装与部署

#### 3.8.2 操作Flume测试监控

## 第四章 企业真实面试题(重点)

### 4.1 你是如何实现Flume数据传输的监控的

![image-20201210220816468](images/image-20201210220816468.png)

### 4.2 Flume的Source、Sink、Channel的作用？你们Source是什么类型？

![image-20201210220906253](images/image-20201210220906253.png)

### 4.3 Flume的Channel Selectors

![image-20201210220949354](images/image-20201210220949354.png)

### 4.4 Flume参数调优

![image-20201210221018006](images/image-20201210221018006.png)

### 4.5 Flume的事务机制

![image-20201210221045053](images/image-20201210221045053.png)

### 4.6 Flume采集数据会丢失吗？

![image-20201210221112821](images/image-20201210221112821.png)

===========================================================================

# 尚硅谷大数据技术之HBase(20201218-20201225)

## 第1章 HBase简介

### 1.1 HBase定义

![image-20201225152234123](images/image-20201225152234123.png)

### 1.2 HBase数据模型

![image-20201225152312469](images/image-20201225152312469.png)

#### 1.2.1 HBase逻辑结构

![image-20201225152327705](images/image-20201225152327705.png)

#### 1.2.2 HBase物理存储结构

![image-20201225152345667](images/image-20201225152345667.png)

#### 1.2.3 数据模型

![image-20201225152427282](images/image-20201225152427282.png)![image-20201225152442878](images/image-20201225152442878.png)

### 1.3 HBase基本架构

![image-20201225152502472](images/image-20201225152502472.png)

![image-20201225152514700](images/image-20201225152514700.png)

## 第2章 HBase快速入门

### 2.1 HBase安装部署

![image-20201225153057763](images/image-20201225153057763.png)![image-20201225153114878](images/image-20201225153114878.png)![image-20201225153134489](images/image-20201225153134489.png)![image-20201225153159195](images/image-20201225153159195.png)![image-20201225153229294](images/image-20201225153229294.png)

#### 2.1.1 Zookeeper正常部署

#### 2.1.2 Hadoop正常部署

#### 2.1.3 HBase的解压

#### 2.1.4 HBase的配置文件

#### 2.1.5 HBase远程发送到其他集群

#### 2.1.6 HBase服务的启动

#### 2.1.7 查看HBase页面

### 2.2 HBase Shell操作

#### 2.2.1 基本操作

![image-20201225153343251](images/image-20201225153343251.png)

#### 2.2.2 表的操作

![image-20201225153358370](images/image-20201225153358370.png)![image-20201225153422651](images/image-20201225153422651.png)

## 第3章 HBase进阶

### 3.1 架构原理

![image-20201225153748067](images/image-20201225153748067.png)![image-20201225153805557](images/image-20201225153805557.png)

### 3.2 写流程

![image-20201225153827251](images/image-20201225153827251.png)

### 3.3 MemStore Flush

![image-20201225153847801](images/image-20201225153847801.png)![image-20201225153918871](images/image-20201225153918871.png)![image-20201225153936243](images/image-20201225153936243.png)

### 3.4 读流程

![image-20201225154002820](images/image-20201225154002820.png)![image-20201225154017288](images/image-20201225154017288.png)

### 3.5 StoreFile Compaction

![image-20201225154031026](images/image-20201225154031026.png)![image-20201225154044176](images/image-20201225154044176.png)

### 3.6 Region Split

![image-20201225154058266](images/image-20201225154058266.png)![image-20201225154117239](images/image-20201225154117239.png)

## 第4章 HBase API

### 4.1 环境准备

![image-20201225154522849](images/image-20201225154522849.png)

### 4.2 HBase API

#### 4.2.1 获取Configuration对象

![image-20201225154544990](images/image-20201225154544990.png)

#### 4.2.2 判断表是否存在

![image-20201225154604982](images/image-20201225154604982.png)![image-20201225154616032](images/image-20201225154616032.png)

#### 4.2.3 创建表

![image-20201225154626761](images/image-20201225154626761.png)

#### 4.2.4 删除表

![image-20201225154712001](images/image-20201225154712001.png)

#### 4.2.5 向表中插入数据

![image-20201225154726942](images/image-20201225154726942.png)![image-20201225154740175](images/image-20201225154740175.png)

#### 4.2.6 删除多行数据

![image-20201225154809067](images/image-20201225154809067.png)

#### 4.2.7 获取所有数据

![image-20201225154817759](images/image-20201225154817759.png)

#### 4.2.8 获取某一行数据

![image-20201225154829363](images/image-20201225154829363.png)![image-20201225154838174](images/image-20201225154838174.png)

#### 4.2.9 获取某一行指定"列族：列"的数据

![image-20201225154850355](images/image-20201225154850355.png)

### 4.3 MapReduce

![image-20201225155714730](images/image-20201225155714730.png)

#### 4.3.1 官方HBase-MapReduce

#### 4.3.2 自定义HBase-MapReduce1

#### 4.3.3自定义HBase-MapReduce2

### 4.4 与Hive的集成

#### 4.4.1 HBase与Hive的对比

![image-20201225155939113](images/image-20201225155939113.png)

#### 4.4.2 HBase与Hive集成使用

## 第5章 HBase优化

### 5.1 高可用

![image-20201225160134657](images/image-20201225160134657.png)![image-20201225160144910](images/image-20201225160144910.png)

### 5.2 预分区

![image-20201225160200894](images/image-20201225160200894.png)

### 5.3 RowKey设计

![image-20201225160214768](images/image-20201225160214768.png)![image-20201225160230263](images/image-20201225160230263.png)

### 5.4 内存优化

![image-20201225160244353](images/image-20201225160244353.png)

### 5.5 基础优化

![image-20201225160253499](images/image-20201225160253499.png)![image-20201225160308296](images/image-20201225160308296.png)![image-20201225160319200](images/image-20201225160319200.png)![image-20201225160340823](images/image-20201225160340823.png)

## 第6章 HBase实战之谷粒微博



====================================================



# 尚硅谷大数据之Sqoop

## 第1章 Sqoop简介

![image-20201228092556646](images/image-20201228092556646.png)

## 第2章 Sqoop原理

![image-20201228092804284](images/image-20201228092804284.png)

## 第3章 Sqoop安装

### 3.1 下载并解压

### 3.2 修改配置文件

### 3.3 拷贝JDBC驱动

### 3.4 验证Sqoop

### 3.5 测试Sqoop是否能够成功连接数据库

## 第4章 Sqoop的简单使用案例

### 4.1 导入数据

![image-20201228093740280](images/image-20201228093740280.png)

#### 4.1.1 RDBMS到HDFS

#### 4.1.2 RDBMS到Hive

#### 4.1.3 RDBMS到Hbase

### 4.2 导出数据

![image-20201228093756096](images/image-20201228093756096.png)

#### 4.2.1 HIive/HDFS到RDBMS

### 4.3 脚本打包

## 第5章 Sqoop一些常用命令及参数

### 5.1 常用命令列举

### 5.2 命令&参数详解



==============================================



# 尚硅谷大数据技术之Azkaban

## 第1章 概述

### 1.1 什么是Azkaban

![image-20201228162755740](images/image-20201228162755740.png)

### 1.2 为什么需要工作流调度系统

![image-20201228163404874](images/image-20201228163404874.png)![image-20201228163428901](images/image-20201228163428901.png)

### 1.3 Azkaban特点

![image-20201228163559156](images/image-20201228163559156.png)

### 1.4 常见工作流调度系统

![image-20201228163617183](images/image-20201228163617183.png)

### 1.5 Azkaban的架构

![image-20201228163642760](images/image-20201228163642760.png)![image-20201228163656244](images/image-20201228163656244.png)

### 1.6 Azkaban下载地址

![image-20201228164007825](images/image-20201228164007825.png)

## 第2章 Azkaban安装部署

### 2.1 安装前准备

### 2.2 安装Azkaban

### 2.3 生成密钥对和证书

### 2.4 时间同步配置

### 2.5 配置文件

#### 2.5.1 Web服务器配置

![image-20201228164406996](images/image-20201228164406996.png)![image-20201228164430647](images/image-20201228164430647.png)![image-20201228164447679](images/image-20201228164447679.png)![image-20201228164516651](images/image-20201228164516651.png)

#### 2.5.2 执行服务器配置

![image-20201228164532406](images/image-20201228164532406.png)

### 2.6 启动Executor服务器

![image-20201228164550437](images/image-20201228164550437.png)

### 2.7 启动Web服务器

![image-20201228164601197](images/image-20201228164601197.png)![image-20201228164617866](images/image-20201228164617866.png)

## 第3章 Azkaban实战

### 3.1 单一job案例

### 3.2 邮件通知配置案例

### 3.3 多job工作流案例

### 3.4 Java操作任务

### 3.5 HDFS操作任务

### 3.6 MapReduce任务

### 3.7 Hive脚本任务

